{{ define "title"}}
{{ $homeland := .HomelandModel.Homeland }}

<title>{{ $homeland.Name }}</title>
<meta property="og:image" content="https://s3.amazonaws.com/runequeset{{ .HomelandModel.Image.Path }}" />
<meta property="og:site_name" content="Runequest Glorantha Character Creator" />
<meta property="og:title" content="RQG: View Homeland {{ .HomelandModel.Homeland.Name }}" />
<meta property="og:description" content="{{ sliceString .HomelandModel.Homeland.Description 144 }}" />
<meta name="twitter:card" content="summary_large_image">

{{ end }}

{{ define "content" }}

{{ $IsAuthor := .IsAuthor }}
{{ $IsAdmin := .IsAdmin }}
{{ $homeland := .HomelandModel.Homeland }}
{{ $ID := .HomelandModel.ID }}
{{ $skills := .Skills }}

<div class="container">
<div class="row">
  <div class="col-sm-4 col-md-4 col-lg-4">

  <h4>{{ $homeland.Name }}</h4> 
  <strong>Author: {{ .HomelandModel.Author.UserName }}</strong>

  <img class ="card-img-top" data-src="" alt="Thumbnail"
  style="width: 100%; display: block;" src="https://s3.amazonaws.com/runequeset{{ .HomelandModel.Image.Path }}"
  data-holder-rendered="true">

  <h5>Rune: {{ $homeland.RuneBonus }}</h5>

  {{ $homeland.Description }}
  <hr>
  {{ if $homeland.Notes }}
  <h4>Creation Notes</h4>
  {{ $homeland.Notes }}
  <hr>
  {{ end }}
  
  {{ if (or $IsAuthor (eq $IsAdmin "true")) }}
  <a class="btn btn-sm btn-primary" href="/modify_homeland/{{ $ID }}">Modify</a>
  <a class="btn btn-sm btn-danger" href="/delete_homeland/{{ $ID }}">Delete</a>
  {{ end }}


</div>

<div class="col-sm-4 col-md-4 col-lg-4">

<h4>Statistics</h4>
              {{ range $k, $v := $homeland.StatisticFrames }}

              <p>{{ $k }}: {{ $v.Dice }}d6{{ if eq $v.Modifier 0 }}{{else}}{{ if gt $v.Modifier 1 }}+{{ $v.Modifier }}{{ else }}{{ $v.Modifier }}{{ end }}{{ end }}
               Max: {{ $v.Max }}</p>
              
              {{ end }}
<hr>
  <p>Hit Locations: {{ $homeland.LocationForm }}</p>
<hr>

<h4>Skills</h4>
<h5>Skill Bonuses</h5>
  {{ range $skill := $homeland.Skills }}
  <p>{{ $skill.CoreString }} ({{$skill.Base}}) {{ if $skill.UserChoice }} ({{$skill.UserString}}){{end}} +{{ $skill.HomelandValue }}%</p>
  {{end}}

</div>

<div class="col-sm-4 col-md-4 col-lg-4">

    <h4>Passions</h4>
    {{ range $passion := $homeland.PassionList }}
    <p>{{ $passion.CoreString }} ({{$passion.UserString}}) Base: {{ $passion.Base }}%</p>    
    {{end}}
    <hr>

    {{ if $homeland.SkillChoices }}
    <h4>Skill Choices</h4>
    {{ range $schoice := $homeland.SkillChoices }}
    {{ if gt (len $schoice.Skills) 0}}
    <h5>Choose between</h5>
    <p>
        {{ range $c, $skill := $schoice.Skills }}
        {{ $skill.CoreString }} {{ if $skill.UserChoice }}({{$skill.UserString}}){{end}} +{{ $skill.HomelandValue }}%
        {{ if eq $c 0 }}<strong>--- OR ----</strong>{{else}}</p>{{ end }}
        {{ end }}
        <hr>
        {{ end }}
    {{ end }}
    {{ end }}

</div>  

</div>

</div>

{{ end }}
